{"ast":null,"code":"var _jsxFileName = \"E:\\\\MERN stack ToDo App\\\\todo-frontend\\\\src\\\\components\\\\EditTodoForm.jsx\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { Link, useNavigate, useSearchParams } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst EditTodoForm = () => {\n  _s();\n\n  const navigate = useNavigate();\n  const [searchParams] = useSearchParams();\n  const [todoTitle, setTodoTitle] = useState(\"\");\n  const [todoDescription, setTodoDescription] = useState(\"\");\n  const [todoCompleted, setTodoCompleted] = useState(false);\n  const [validationError, setValidationError] = useState(\"\");\n  const [successMessage, setSuccessMessage] = useState(\"\");\n  useEffect(() => {\n    if (!searchParams.get(\"id\")) {\n      navigate(\"/\");\n    } else {\n      axios.get(process.env.REACT_APP_API_BASE_URL + \"/api/v1/todo/\" + searchParams.get(\"id\")).then(res => {\n        setTodoTitle(res.data.todo.title);\n        setTodoDescription(res.data.todo.description);\n        setTodoCompleted(res.data.todo.completed);\n      }).catch(err => {\n        setValidationError(\"Error: \" + err.message);\n      });\n    }\n  }, [searchParams, navigate]);\n\n  const handleSubmit = e => {\n    e.preventDefault(); // form validation check and set error message\n\n    if (todoTitle.length === 0) {\n      setValidationError(\"Title filed is required\");\n    } else if (todoDescription.length === 0) {\n      setValidationError(\"Description filed is required\");\n    } // if validation is ok, then add new todo\n\n\n    if (todoTitle && todoDescription) {\n      axios.put(process.env.REACT_APP_API_BASE_URL + \"/api/v1/todo/\" + searchParams.get(\"id\"), {\n        title: todoTitle,\n        description: todoDescription,\n        completed: todoCompleted\n      }).then(res => {\n        if (res.status === 200) {\n          setSuccessMessage(\"Todo updated successfully\"); // after 2 seconds, redirect to todo list\n\n          setTimeout(() => {\n            navigate(\"/\");\n          }, 2000);\n        } else {\n          setValidationError(\"Error: \" + res.message);\n        }\n      }).catch(err => {\n        setValidationError(\"Error: \" + err.message);\n      });\n    }\n  };\n\n  useEffect(() => {\n    setTimeout(() => {\n      setSuccessMessage(\"\");\n      setValidationError(\"\");\n    }, 3000);\n  }, [successMessage, validationError]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-gray-100 w-[90%] md:w-[80%] lg:w-[50%] p-5 rounded-sm shadow-md\",\n    children: [validationError && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full h-[40px] bg-red-500 text-center py-2 rounded-sm\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-white text-md\",\n        children: validationError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }, this), successMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full h-[40px] bg-green-500 text-center py-2 rounded-sm\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-white text-md\",\n        children: successMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"flex flex-col items-center justify-center\",\n      onSubmit: e => {\n        handleSubmit(e);\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        className: \"w-full border-2 border-gray-500 px-5 py-2 rounded-sm my-2\",\n        placeholder: \"Add here todo title\",\n        value: todoTitle,\n        onChange: e => setTodoTitle(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        className: \"w-full border-2 border-gray-500 px-5 py-2 rounded-sm\",\n        cols: \"30\",\n        rows: \"3\",\n        placeholder: \"Add here todo description\",\n        value: todoDescription,\n        onChange: e => setTodoDescription(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full flex flex-row items-center justify-start my-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          checked: todoCompleted,\n          id: \"todoCheckBox\",\n          className: \"w-4 h-4 rounded-sm cursor-pointer\",\n          onChange: e => {\n            setTodoCompleted(e.target.checked);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"todoCheckBox\",\n          className: \"ml-2 text-md cursor-pointer\",\n          children: \"Todo Completed\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full flex flex-row items-center justify-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"bg-green-500 text-white rounded-sm shadow-md w-full my-2 py-2 mr-2 transition-all duration-100 hover:bg-green-600\",\n          children: \"Update Todo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          className: \"bg-blue-500 text-white text-center rounded-sm shadow-md w-full my-2 py-2 ml-2 transition-all duration-100 hover:bg-blue-600\",\n          children: \"Go Back Homepage\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n};\n\n_s(EditTodoForm, \"eIRYzZZPhyOOukLaJ+Z7oZ7EtkM=\", false, function () {\n  return [useNavigate, useSearchParams];\n});\n\n_c = EditTodoForm;\nexport default EditTodoForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditTodoForm\");","map":{"version":3,"names":["axios","useEffect","useState","Link","useNavigate","useSearchParams","EditTodoForm","navigate","searchParams","todoTitle","setTodoTitle","todoDescription","setTodoDescription","todoCompleted","setTodoCompleted","validationError","setValidationError","successMessage","setSuccessMessage","get","process","env","REACT_APP_API_BASE_URL","then","res","data","todo","title","description","completed","catch","err","message","handleSubmit","e","preventDefault","length","put","status","setTimeout","target","value","checked"],"sources":["E:/MERN stack ToDo App/todo-frontend/src/components/EditTodoForm.jsx"],"sourcesContent":["import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { Link, useNavigate, useSearchParams } from \"react-router-dom\";\n\nconst EditTodoForm = () => {\n  const navigate = useNavigate();\n  const [searchParams] = useSearchParams();\n  const [todoTitle, setTodoTitle] = useState(\"\");\n  const [todoDescription, setTodoDescription] = useState(\"\");\n  const [todoCompleted, setTodoCompleted] = useState(false);\n  const [validationError, setValidationError] = useState(\"\");\n  const [successMessage, setSuccessMessage] = useState(\"\");\n\n  useEffect(() => {\n    if (!searchParams.get(\"id\")) {\n      navigate(\"/\");\n    } else {\n      axios\n        .get(process.env.REACT_APP_API_BASE_URL + \"/api/v1/todo/\" + searchParams.get(\"id\"))\n        .then((res) => {\n          setTodoTitle(res.data.todo.title);\n          setTodoDescription(res.data.todo.description);\n          setTodoCompleted(res.data.todo.completed);\n        })\n        .catch((err) => {\n          setValidationError(\"Error: \" + err.message);\n        });\n    }\n  }, [searchParams, navigate]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    // form validation check and set error message\n    if (todoTitle.length === 0) {\n      setValidationError(\"Title filed is required\");\n    } else if (todoDescription.length === 0) {\n      setValidationError(\"Description filed is required\");\n    }\n\n    // if validation is ok, then add new todo\n    if (todoTitle && todoDescription) {\n      axios\n        .put(process.env.REACT_APP_API_BASE_URL + \"/api/v1/todo/\" + searchParams.get(\"id\"), {\n          title: todoTitle,\n          description: todoDescription,\n          completed: todoCompleted,\n        })\n        .then((res) => {\n          if (res.status === 200) {\n            setSuccessMessage(\"Todo updated successfully\");\n\n            // after 2 seconds, redirect to todo list\n            setTimeout(() => {\n              navigate(\"/\");\n            }, 2000);\n          } else {\n            setValidationError(\"Error: \" + res.message);\n          }\n        })\n        .catch((err) => {\n          setValidationError(\"Error: \" + err.message);\n        });\n    }\n  };\n\n  useEffect(() => {\n    setTimeout(() => {\n      setSuccessMessage(\"\");\n      setValidationError(\"\");\n    }, 3000);\n  }, [successMessage, validationError]);\n\n  return (\n    <div className=\"bg-gray-100 w-[90%] md:w-[80%] lg:w-[50%] p-5 rounded-sm shadow-md\">\n      {/* Form Validation Message */}\n      {validationError && (\n        <div className=\"w-full h-[40px] bg-red-500 text-center py-2 rounded-sm\">\n          <p className=\"text-white text-md\">{validationError}</p>\n        </div>\n      )}\n\n      {/* Form Success Message */}\n      {successMessage && (\n        <div className=\"w-full h-[40px] bg-green-500 text-center py-2 rounded-sm\">\n          <p className=\"text-white text-md\">{successMessage}</p>\n        </div>\n      )}\n\n      <form\n        className=\"flex flex-col items-center justify-center\"\n        onSubmit={(e) => {\n          handleSubmit(e);\n        }}>\n        {/* TODOS TITLE INPUT FIELD */}\n        <input type=\"text\" className=\"w-full border-2 border-gray-500 px-5 py-2 rounded-sm my-2\" placeholder=\"Add here todo title\" value={todoTitle} onChange={(e) => setTodoTitle(e.target.value)} />\n\n        {/* TODOS DESCRIPTION INPUT FIELD */}\n        <textarea className=\"w-full border-2 border-gray-500 px-5 py-2 rounded-sm\" cols=\"30\" rows=\"3\" placeholder=\"Add here todo description\" value={todoDescription} onChange={(e) => setTodoDescription(e.target.value)} />\n\n        {/* TODOS COMPLETED CHECKBOX INPUT FIELD */}\n        <div className=\"w-full flex flex-row items-center justify-start my-4\">\n          <input\n            type=\"checkbox\"\n            checked={todoCompleted}\n            id=\"todoCheckBox\"\n            className=\"w-4 h-4 rounded-sm cursor-pointer\"\n            onChange={(e) => {\n              setTodoCompleted(e.target.checked);\n            }}\n          />\n          <label htmlFor=\"todoCheckBox\" className=\"ml-2 text-md cursor-pointer\">\n            Todo Completed\n          </label>\n        </div>\n\n        {/* TODOS UPDATE & BACK HOMEPAGE BUTTON */}\n        <div className=\"w-full flex flex-row items-center justify-center\">\n          <button type=\"submit\" className=\"bg-green-500 text-white rounded-sm shadow-md w-full my-2 py-2 mr-2 transition-all duration-100 hover:bg-green-600\">\n            Update Todo\n          </button>\n\n          <Link to=\"/\" className=\"bg-blue-500 text-white text-center rounded-sm shadow-md w-full my-2 py-2 ml-2 transition-all duration-100 hover:bg-blue-600\">\n            Go Back Homepage\n          </Link>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default EditTodoForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}